{"ast":null,"code":"var _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nfunction ThemSanPham() {\n  _s();\n  const [cart, setCart] = useState(JSON.parse(localStorage.getItem('cart')) || []);\n  const convertToNumber = price => {\n    return parseInt(price.replace(/\\D/g, '')); // Hàm chuyển đổi giá tiền từ chuỗi sang số\n  };\n  const addToCart = item => {\n    const newList = [...cart];\n    let itemExists = false;\n    for (let x of newList) {\n      if (x.id === item.id && x.color === item.color && x.size === item.size) {\n        x.quantity += 1;\n        itemExists = true;\n        break;\n      }\n    }\n    if (!itemExists) {\n      newList.push(item);\n    }\n    setCart(newList);\n    localStorage.setItem('cart', JSON.stringify(newList));\n    loadMiniCart(); // Hàm tải lại giỏ hàng mini\n    displayNotify(item); // Hàm hiển thị thông báo đã thêm vào giỏ\n  };\n  const handleSizeClick = (size, id) => {\n    const name = document.querySelector(`#${id} .product-name`).textContent;\n    const img = document.querySelector(`#${id} .product-img-1`).getAttribute('src');\n    const color = document.querySelector(`#${id} .product-content__option-item-wrap.active span`).getAttribute('data');\n    const price = convertToNumber(document.querySelector(`#${id} .product-price`).textContent);\n    const item = {\n      id: id,\n      name: name,\n      img: img,\n      color: color,\n      size: size,\n      price: price,\n      quantity: 1,\n      discount: 0\n    };\n    addToCart(item);\n  };\n  const loadMiniCart = () => {\n    // Implement hàm để tải lại thông tin giỏ hàng mini\n    console.log(\"Mini cart loaded\");\n  };\n  const displayNotify = item => {\n    // Implement hàm để hiển thị thông báo khi thêm sản phẩm vào giỏ hàng\n    alert(`Đã thêm ${item.name} vào giỏ hàng`);\n  };\n}\n_s(ThemSanPham, \"34Hj0ZuPSCpsgooZhNmRWIjPbXM=\");\n_c = ThemSanPham;\nexport default ThemSanPham;\nvar _c;\n$RefreshReg$(_c, \"ThemSanPham\");","map":{"version":3,"names":["React","useState","Link","ThemSanPham","_s","cart","setCart","JSON","parse","localStorage","getItem","convertToNumber","price","parseInt","replace","addToCart","item","newList","itemExists","x","id","color","size","quantity","push","setItem","stringify","loadMiniCart","displayNotify","handleSizeClick","name","document","querySelector","textContent","img","getAttribute","discount","console","log","alert","_c","$RefreshReg$"],"sources":["D:/Đồ Án 3/WebBanQuanAo/webquanao/src/until/cart.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction ThemSanPham() {\r\n  const [cart, setCart] = useState(JSON.parse(localStorage.getItem('cart')) || []);\r\n\r\n  const convertToNumber = (price) => {\r\n    return parseInt(price.replace(/\\D/g, '')); // Hàm chuyển đổi giá tiền từ chuỗi sang số\r\n  };\r\n\r\n  const addToCart = (item) => {\r\n    const newList = [...cart];\r\n    let itemExists = false;\r\n\r\n    for (let x of newList) {\r\n      if (x.id === item.id && x.color === item.color && x.size === item.size) {\r\n        x.quantity += 1;\r\n        itemExists = true;\r\n        break;\r\n      }\r\n    }\r\n\r\n    if (!itemExists) {\r\n      newList.push(item);\r\n    }\r\n\r\n    setCart(newList);\r\n    localStorage.setItem('cart', JSON.stringify(newList));\r\n    loadMiniCart(); // Hàm tải lại giỏ hàng mini\r\n    displayNotify(item); // Hàm hiển thị thông báo đã thêm vào giỏ\r\n  };\r\n\r\n  const handleSizeClick = (size, id) => {\r\n    const name = document.querySelector(`#${id} .product-name`).textContent;\r\n    const img = document.querySelector(`#${id} .product-img-1`).getAttribute('src');\r\n    const color = document.querySelector(`#${id} .product-content__option-item-wrap.active span`).getAttribute('data');\r\n    const price = convertToNumber(document.querySelector(`#${id} .product-price`).textContent);\r\n\r\n    const item = {\r\n      id: id,\r\n      name: name,\r\n      img: img,\r\n      color: color,\r\n      size: size,\r\n      price: price,\r\n      quantity: 1,\r\n      discount: 0\r\n    };\r\n\r\n    addToCart(item);\r\n  };\r\n\r\n  const loadMiniCart = () => {\r\n    // Implement hàm để tải lại thông tin giỏ hàng mini\r\n    console.log(\"Mini cart loaded\");\r\n  };\r\n\r\n  const displayNotify = (item) => {\r\n    // Implement hàm để hiển thị thông báo khi thêm sản phẩm vào giỏ hàng\r\n    alert(`Đã thêm ${item.name} vào giỏ hàng`);\r\n  };\r\n\r\n}\r\n\r\nexport default ThemSanPham;\r\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,SAASC,IAAI,QAAQ,kBAAkB;AAEvC,SAASC,WAAWA,CAAA,EAAG;EAAAC,EAAA;EACrB,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGL,QAAQ,CAACM,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC,IAAI,EAAE,CAAC;EAEhF,MAAMC,eAAe,GAAIC,KAAK,IAAK;IACjC,OAAOC,QAAQ,CAACD,KAAK,CAACE,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC;EAC7C,CAAC;EAED,MAAMC,SAAS,GAAIC,IAAI,IAAK;IAC1B,MAAMC,OAAO,GAAG,CAAC,GAAGZ,IAAI,CAAC;IACzB,IAAIa,UAAU,GAAG,KAAK;IAEtB,KAAK,IAAIC,CAAC,IAAIF,OAAO,EAAE;MACrB,IAAIE,CAAC,CAACC,EAAE,KAAKJ,IAAI,CAACI,EAAE,IAAID,CAAC,CAACE,KAAK,KAAKL,IAAI,CAACK,KAAK,IAAIF,CAAC,CAACG,IAAI,KAAKN,IAAI,CAACM,IAAI,EAAE;QACtEH,CAAC,CAACI,QAAQ,IAAI,CAAC;QACfL,UAAU,GAAG,IAAI;QACjB;MACF;IACF;IAEA,IAAI,CAACA,UAAU,EAAE;MACfD,OAAO,CAACO,IAAI,CAACR,IAAI,CAAC;IACpB;IAEAV,OAAO,CAACW,OAAO,CAAC;IAChBR,YAAY,CAACgB,OAAO,CAAC,MAAM,EAAElB,IAAI,CAACmB,SAAS,CAACT,OAAO,CAAC,CAAC;IACrDU,YAAY,CAAC,CAAC,CAAC,CAAC;IAChBC,aAAa,CAACZ,IAAI,CAAC,CAAC,CAAC;EACvB,CAAC;EAED,MAAMa,eAAe,GAAGA,CAACP,IAAI,EAAEF,EAAE,KAAK;IACpC,MAAMU,IAAI,GAAGC,QAAQ,CAACC,aAAa,CAAE,IAAGZ,EAAG,gBAAe,CAAC,CAACa,WAAW;IACvE,MAAMC,GAAG,GAAGH,QAAQ,CAACC,aAAa,CAAE,IAAGZ,EAAG,iBAAgB,CAAC,CAACe,YAAY,CAAC,KAAK,CAAC;IAC/E,MAAMd,KAAK,GAAGU,QAAQ,CAACC,aAAa,CAAE,IAAGZ,EAAG,iDAAgD,CAAC,CAACe,YAAY,CAAC,MAAM,CAAC;IAClH,MAAMvB,KAAK,GAAGD,eAAe,CAACoB,QAAQ,CAACC,aAAa,CAAE,IAAGZ,EAAG,iBAAgB,CAAC,CAACa,WAAW,CAAC;IAE1F,MAAMjB,IAAI,GAAG;MACXI,EAAE,EAAEA,EAAE;MACNU,IAAI,EAAEA,IAAI;MACVI,GAAG,EAAEA,GAAG;MACRb,KAAK,EAAEA,KAAK;MACZC,IAAI,EAAEA,IAAI;MACVV,KAAK,EAAEA,KAAK;MACZW,QAAQ,EAAE,CAAC;MACXa,QAAQ,EAAE;IACZ,CAAC;IAEDrB,SAAS,CAACC,IAAI,CAAC;EACjB,CAAC;EAED,MAAMW,YAAY,GAAGA,CAAA,KAAM;IACzB;IACAU,OAAO,CAACC,GAAG,CAAC,kBAAkB,CAAC;EACjC,CAAC;EAED,MAAMV,aAAa,GAAIZ,IAAI,IAAK;IAC9B;IACAuB,KAAK,CAAE,WAAUvB,IAAI,CAACc,IAAK,eAAc,CAAC;EAC5C,CAAC;AAEH;AAAC1B,EAAA,CA3DQD,WAAW;AAAAqC,EAAA,GAAXrC,WAAW;AA6DpB,eAAeA,WAAW;AAAC,IAAAqC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}