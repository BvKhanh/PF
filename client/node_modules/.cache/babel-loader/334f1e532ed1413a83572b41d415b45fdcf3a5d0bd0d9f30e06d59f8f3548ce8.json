{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect } from \"react\";\nconst $ = window.$;\nexport function updateCart(list) {\n  localStorage.setItem(\"cart\", JSON.stringify(list));\n}\nexport function loadMiniCart() {\n  // lấy dữ liệu trên lc trả thành mảng nếu có\n  var list = JSON.parse(localStorage.getItem(\"cart\")) || [];\n  var str = \"\";\n  var length = list.length;\n  // kiểm tra slg\n  if (length > 0) {\n    // for ra thành các list\n    for (let x of list) {\n      str += `<li class=\"mini-cart__item\">\n                        <a class=\"mini-cart__link\">\n                        <div class=\"mini-cart__link-img\">\n                            <img src=\"${x.img}\" alt=\"\">\n                        </div>\n                        <div class=\"mini-cart__link-content\">\n                            <p class=\"mini-cart__link-content-name\">${x.name}</p>\n                            <p class=\"mini-cart__link-content-describe\">màu ${x.color} ${x.size}</p>\n                            <p class=\"mini-cart__link-content-price\">${convertVND(x.price)}</p>\n                            <p class=\"mini-cart__link-content-quantity\">x${x.quantity}</p>\n                            <span class=\"mini-cart__item-cancel\" onclick=\"Xoa('${x.id}','${x.size}','${x.color}')\">✕</span>\n            \n                        </div>\n                        </a>\n                    </li>`;\n    }\n    // load nội dung lên mini card\n    $(\".mini-cart__list\").html(str);\n    $(\".header__actions-cart-notify\").text(`${length}`);\n    $(\".added-product\").text(`${length}`);\n  } else {\n    $(\".mini-cart__list\").html('<p class=\"cart-empty\">Không có sản phẩm</p>');\n    $(\".header__actions-cart-notify\").text(\"0\");\n    $(\".added-product\").text(\"0\");\n  }\n}\nloadMiniCart();\nexport function convertVND(number) {\n  if (number === 0) {\n    return \"0đ\";\n  }\n  // Chuyển dạng số thành chuỗi\n  var str = JSON.stringify(number);\n  var result = \"\";\n  var length = str.length;\n  var count = 0;\n  for (var i = length - 1; i >= 0; --i) {\n    if (count % 3 === 0 && count !== 0) {\n      result = str[i] + \".\" + result;\n    } else {\n      result = str[i] + result;\n    }\n    count++;\n  }\n  return result + \"đ\";\n}\nfunction ActiveCart() {\n  _s();\n  useEffect(() => {\n    var payments = document.querySelectorAll('.payments-item');\n    var paymentsInput = document.querySelector('.payments-item input');\n    document.querySelector('.payments-item.active .check').checked = true;\n    payments.forEach((payment, index) => {\n      payment.onclick = () => {\n        document.querySelector('.payments-item.active').classList.remove('active');\n        payment.classList.add('active');\n        document.querySelector('.payments-item.active .check').checked = true; //khi check vào item thì sẽ check vào input\n      };\n    });\n    $(\".payments-item\").each(function (index, value) {\n      $(value).click(function () {\n        // Duyệt qua nếu check đk chọn thì gán value\n        $(\".check\").each(function () {\n          if (this.checked) {\n            $(\".type-payment\").text(this.value);\n          }\n        });\n      });\n    });\n    var list = JSON.parse(localStorage.getItem(\"cart\")) || [];\n    function Xoa(id, size, color) {\n      var index = list.findIndex(x => x.id === id && x.size === size && x.color === color);\n      if (index >= 0) {\n        // Nếu sp tồn tại thì xóa\n        list.splice(index, 1);\n      }\n      updateCart();\n      loadMiniCart();\n      LoadData();\n    }\n    function Tang(id) {\n      var index = list.findIndex(x => x.id === id);\n      if (index >= 0) {\n        list[index].quantity += 1;\n      }\n      updateCart();\n      LoadData();\n      loadMiniCart();\n    }\n    function Giam(id) {\n      var index = list.findIndex(x => x.id === id);\n      if (index >= 0 && list[index].quantity > 1) {\n        list[index].quantity -= 1;\n      }\n      updateCart();\n      LoadData();\n      loadMiniCart();\n    }\n    window.Xoa = Xoa;\n    window.Tang = Tang;\n    window.Giam = Giam;\n  }, []);\n}\n_s(ActiveCart, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n_c = ActiveCart;\nexport default ActiveCart;\nvar _c;\n$RefreshReg$(_c, \"ActiveCart\");","map":{"version":3,"names":["useEffect","$","window","updateCart","list","localStorage","setItem","JSON","stringify","loadMiniCart","parse","getItem","str","length","x","img","name","color","size","convertVND","price","quantity","id","html","text","number","result","count","i","ActiveCart","_s","payments","document","querySelectorAll","paymentsInput","querySelector","checked","forEach","payment","index","onclick","classList","remove","add","each","value","click","Xoa","findIndex","splice","LoadData","Tang","Giam","_c","$RefreshReg$"],"sources":["D:/Đồ Án 3/WebBanQuanAo/webquanao/src/until/cartactive.jsx"],"sourcesContent":["import  { useEffect } from \"react\";\r\nconst $ = window.$;\r\n\r\nexport function updateCart(list) {\r\n  localStorage.setItem(\"cart\", JSON.stringify(list));\r\n}\r\n\r\nexport function loadMiniCart() {\r\n  // lấy dữ liệu trên lc trả thành mảng nếu có\r\n  var list = JSON.parse(localStorage.getItem(\"cart\")) || [];\r\n  var str = \"\";\r\n  var length = list.length;\r\n  // kiểm tra slg\r\n  if (length > 0) {\r\n    // for ra thành các list\r\n    for (let x of list) {\r\n      str += `<li class=\"mini-cart__item\">\r\n                        <a class=\"mini-cart__link\">\r\n                        <div class=\"mini-cart__link-img\">\r\n                            <img src=\"${x.img}\" alt=\"\">\r\n                        </div>\r\n                        <div class=\"mini-cart__link-content\">\r\n                            <p class=\"mini-cart__link-content-name\">${\r\n                              x.name\r\n                            }</p>\r\n                            <p class=\"mini-cart__link-content-describe\">màu ${\r\n                              x.color\r\n                            } ${x.size}</p>\r\n                            <p class=\"mini-cart__link-content-price\">${convertVND(\r\n                              x.price\r\n                            )}</p>\r\n                            <p class=\"mini-cart__link-content-quantity\">x${\r\n                              x.quantity\r\n                            }</p>\r\n                            <span class=\"mini-cart__item-cancel\" onclick=\"Xoa('${\r\n                              x.id\r\n                            }','${x.size}','${x.color}')\">✕</span>\r\n            \r\n                        </div>\r\n                        </a>\r\n                    </li>`;\r\n    }\r\n    // load nội dung lên mini card\r\n    $(\".mini-cart__list\").html(str);\r\n    $(\".header__actions-cart-notify\").text(`${length}`);\r\n    $(\".added-product\").text(`${length}`);\r\n  } else {\r\n    $(\".mini-cart__list\").html(\r\n      '<p class=\"cart-empty\">Không có sản phẩm</p>'\r\n    );\r\n    $(\".header__actions-cart-notify\").text(\"0\");\r\n    $(\".added-product\").text(\"0\");\r\n  }\r\n}\r\nloadMiniCart();\r\n\r\n\r\nexport function convertVND(number) {\r\n  if (number === 0) {\r\n    return \"0đ\";\r\n  }\r\n  // Chuyển dạng số thành chuỗi\r\n  var str = JSON.stringify(number);\r\n  var result = \"\";\r\n  var length = str.length;\r\n  var count = 0;\r\n  for (var i = length - 1; i >= 0; --i) {\r\n    if (count % 3 === 0 && count !== 0) {\r\n      result = str[i] + \".\" + result;\r\n    } else {\r\n      result = str[i] + result;\r\n    }\r\n    count++;\r\n  }\r\n  return result + \"đ\";\r\n}\r\n\r\nfunction ActiveCart() {\r\n  useEffect(() => {\r\n    var payments = document.querySelectorAll('.payments-item')\r\n    var paymentsInput = document.querySelector('.payments-item input')\r\n    document.querySelector('.payments-item.active .check').checked = true; \r\n\r\n    payments.forEach((payment, index) => {\r\n        payment.onclick = () => {\r\n            document.querySelector('.payments-item.active').classList.remove('active');\r\n            payment.classList.add('active');\r\n            document.querySelector('.payments-item.active .check').checked = true;//khi check vào item thì sẽ check vào input\r\n        }\r\n    })\r\n\r\n    $(\".payments-item\").each(function(index,value) {\r\n        $(value).click(function(){\r\n            // Duyệt qua nếu check đk chọn thì gán value\r\n            $(\".check\").each(function(){\r\n                if(this.checked){\r\n                    $(\".type-payment\").text(this.value)\r\n                }\r\n            })\r\n        })\r\n    })\r\n\r\n    var list = JSON.parse(localStorage.getItem(\"cart\")) || [];\r\n\r\n    \r\n    function Xoa(id, size, color) {\r\n      var index = list.findIndex(\r\n        (x) => x.id === id && x.size === size && x.color === color\r\n      );\r\n      if (index >= 0) {\r\n        // Nếu sp tồn tại thì xóa\r\n        list.splice(index, 1);\r\n      }\r\n      updateCart();\r\n      loadMiniCart();\r\n      LoadData();\r\n    }\r\n\r\n    function Tang(id) {\r\n      var index = list.findIndex((x) => x.id === id);\r\n      if (index >= 0) {\r\n        list[index].quantity += 1;\r\n      }\r\n      updateCart();\r\n      LoadData();\r\n      loadMiniCart();\r\n    }\r\n\r\n    function Giam(id) {\r\n      var index = list.findIndex((x) => x.id === id);\r\n      if (index >= 0 && list[index].quantity > 1) {\r\n        list[index].quantity -= 1;\r\n      }\r\n      updateCart();\r\n      LoadData();\r\n      loadMiniCart();\r\n    }\r\n\r\n    window.Xoa = Xoa;\r\n    window.Tang = Tang;\r\n    window.Giam = Giam;\r\n  }, []);\r\n}\r\n\r\nexport default ActiveCart;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}