{"ast":null,"code":"var _s = $RefreshSig$();\nimport React, { useEffect } from \"react\";\nfunction ActiveCart() {\n  _s();\n  useEffect(() => {\n    const $ = window.$;\n    var list = JSON.parse(localStorage.getItem('cart')) || [];\n    function LoadData() {\n      var str = \"\";\n      var total = 0;\n      var tamtinh = 0;\n      for (let x of list) {\n        // Sửa 'x of list' thành 'let x of list'\n        total += x.price * x.quantity - x.discount;\n        tamtinh += x.price * x.quantity;\n        str += `<div class=\"list-product__item\">\n          <div class=\"list-product__item-img\">\n            <img src=\"${x.img}\" alt=\"\">\n          </div>\n          <div class=\"list-product__item-content\">\n            <div class=\"list-product__item-name\">${x.name}</div>\n            <div class=\"list-product__item-type\">${x.color}/${x.size}</div>\n            <div style=\"display:flex;justify-content: flex-start; margin: 28px 0 6px;\" class=\"\">                         \n            </div>\n            <div style=\"display:flex;justify-content: space-between;align-items: center;\">  \n              <div class=\"quantity-product\">\n                <button onclick=\"Giam('${x.id}')\">\n                  <svg data-v-0d8807a2=\"\" width=\"16\" height=\"16\" xmlns=\"http://www.w3.org/2000/svg\"><g data-v-0d8807a2=\"\"><line data-v-0d8807a2=\"\" stroke-width=\"1.5\" id=\"svg_6\" y2=\"8\" x2=\"10\" y1=\"8\" x1=\"5\" stroke=\"#000000\" fill=\"none\"></line></g></svg>\n                </button>\n                <span>${x.quantity}</span>\n                <button onclick=\"Tang('${x.id}')\">\n                  <svg data-v-0d8807a2=\"\" width=\"16\" height=\"16\" xmlns=\"http://www.w3.org/2000/svg\"><g data-v-0d8807a2=\"\"><line data-v-0d8807a2=\"\" stroke-width=\"1.5\" y2=\"8\" x2=\"12.9695\" y1=\"8\" x1=\"3.0305\" stroke=\"#000000\" fill=\"none\"></line> <line data-v-0d8807a2=\"\" stroke-width=\"1.5\" transform=\"rotate(90, 8, 8)\" y2=\"8\" x2=\"13\" y1=\"8\" x1=\"3\" stroke=\"#000000\" fill=\"none\"></line></g></svg>\n                </button>\n              </div>\n              <div class=\"product-price\">\n                <div class=\"product-new-price\">${convertVND(x.price)}</div>\n              </div>\n            </div>\n            <div class=\"list-product__close\" onclick=\"Xoa('${x.id}','${x.size}','${x.color}')\">\n              <i class=\"fa-solid fa-xmark\"></i>\n            </div>\n          </div>\n        </div>`;\n      }\n      if (total < 200) {\n        total += 25000;\n        $(\".delever-cost\").text('25.000đ');\n      } else {\n        $(\".delever-cost\").text('Miễn phí');\n      }\n      $('.list-product__inner').html(str);\n      $(\".total__price\").text(convertVND(total));\n      $(\".tamTinh\").text(convertVND(tamtinh));\n      $(\".btn-pay--price\").text(convertVND(total));\n      if (list.length === 0) {\n        $(\".btn-pay\").css({\n          \"opacity\": \"0.5\",\n          \"pointer-events\": \"none\"\n        });\n      }\n    }\n    LoadData();\n\n    /*đưa vào một số và trả ra định dạng tiền*/\n    function convertVND(number) {\n      if (number === 0) {\n        return '0đ';\n      }\n      // Chuyển dạng số thành chuỗi\n      var str = JSON.stringify(number);\n      var result = \"\";\n      var length = str.length;\n      var count = 0;\n      for (var i = length - 1; i >= 0; --i) {\n        if (count % 3 === 0 && count !== 0) {\n          result = str[i] + '.' + result;\n        } else {\n          result = str[i] + result;\n        }\n        count++;\n      }\n      return result + 'đ';\n    }\n\n    /*Thanh toán*/\n    $(\".btn-pay\").click(function () {\n      list = [];\n      updateCart();\n      LoadData();\n      loadMiniCart();\n      alert(\"Bạn đã đặt hàng thành công\");\n    });\n\n    /**Hàm load thông tin từ local storage lên mini cart*/\n    function loadMiniCart() {\n      // lấy dữ liệu trên lc trả thành mảng nếu có \n      let list = JSON.parse(localStorage.getItem('cart')) || [];\n      var str = \"\";\n      var length = list.length;\n      // kiểm tra slg\n      if (length > 0) {\n        // for ra thành các list\n        for (let x of list) {\n          str += `<li class=\"mini-cart__item\">\n                        <a class=\"mini-cart__link\">\n                        <div class=\"mini-cart__link-img\">\n                            <img src=\"${x.img}\" alt=\"\">\n                        </div>\n                        <div class=\"mini-cart__link-content\">\n                            <p class=\"mini-cart__link-content-name\">${x.name}</p>\n                            <p class=\"mini-cart__link-content-describe\">màu ${x.color} ${x.size}</p>\n                            <p class=\"mini-cart__link-content-price\">${convertVND(x.price)}</p>\n                            <p class=\"mini-cart__link-content-quantity\">x${x.quantity}</p>\n                            <span class=\"mini-cart__item-cancel\" onclick=\"Xoa('${x.id}','${x.size}','${x.color}')\">✕</span>\n            \n                        </div>\n                        </a>\n                    </li>`;\n        }\n        // load nội dung lên mini card\n        $(\".mini-cart__list\").html(str);\n        $(\".header__actions-cart-notify\").text(`${length}`);\n        $(\".added-product\").text(`${length}`);\n      } else {\n        $(\".mini-cart__list\").html('<p class=\"cart-empty\">Không có sản phẩm</p>');\n        $(\".header__actions-cart-notify\").text(\"0\");\n        $(\".added-product\").text(\"0\");\n      }\n    }\n    loadMiniCart();\n\n    // Cập nhật giỏ hàng\n    function updateCart() {\n      localStorage.setItem('cart', JSON.stringify(list));\n    }\n  }, []);\n}\n_s(ActiveCart, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n_c = ActiveCart;\nexport default ActiveCart;\nvar _c;\n$RefreshReg$(_c, \"ActiveCart\");","map":{"version":3,"names":["React","useEffect","ActiveCart","_s","$","window","list","JSON","parse","localStorage","getItem","LoadData","str","total","tamtinh","x","price","quantity","discount","img","name","color","size","id","convertVND","text","html","length","css","number","stringify","result","count","i","click","updateCart","loadMiniCart","alert","setItem","_c","$RefreshReg$"],"sources":["D:/Đồ Án 3/WebBanQuanAo/webquanao/src/until/cartactive.jsx"],"sourcesContent":["import React, { useEffect } from \"react\";\r\n\r\nfunction ActiveCart() {\r\n\r\n  useEffect(() => {\r\n    const $ = window.$;\r\n    \r\n    var list = JSON.parse(localStorage.getItem('cart')) || [];\r\n\r\n    function LoadData() {\r\n      var str = \"\";\r\n      var total = 0;\r\n      var tamtinh = 0;\r\n      for (let x of list) {  // Sửa 'x of list' thành 'let x of list'\r\n        total += (x.price * x.quantity) - x.discount;\r\n        tamtinh += (x.price * x.quantity);\r\n        str += `<div class=\"list-product__item\">\r\n          <div class=\"list-product__item-img\">\r\n            <img src=\"${x.img}\" alt=\"\">\r\n          </div>\r\n          <div class=\"list-product__item-content\">\r\n            <div class=\"list-product__item-name\">${x.name}</div>\r\n            <div class=\"list-product__item-type\">${x.color}/${x.size}</div>\r\n            <div style=\"display:flex;justify-content: flex-start; margin: 28px 0 6px;\" class=\"\">                         \r\n            </div>\r\n            <div style=\"display:flex;justify-content: space-between;align-items: center;\">  \r\n              <div class=\"quantity-product\">\r\n                <button onclick=\"Giam('${x.id}')\">\r\n                  <svg data-v-0d8807a2=\"\" width=\"16\" height=\"16\" xmlns=\"http://www.w3.org/2000/svg\"><g data-v-0d8807a2=\"\"><line data-v-0d8807a2=\"\" stroke-width=\"1.5\" id=\"svg_6\" y2=\"8\" x2=\"10\" y1=\"8\" x1=\"5\" stroke=\"#000000\" fill=\"none\"></line></g></svg>\r\n                </button>\r\n                <span>${x.quantity}</span>\r\n                <button onclick=\"Tang('${x.id}')\">\r\n                  <svg data-v-0d8807a2=\"\" width=\"16\" height=\"16\" xmlns=\"http://www.w3.org/2000/svg\"><g data-v-0d8807a2=\"\"><line data-v-0d8807a2=\"\" stroke-width=\"1.5\" y2=\"8\" x2=\"12.9695\" y1=\"8\" x1=\"3.0305\" stroke=\"#000000\" fill=\"none\"></line> <line data-v-0d8807a2=\"\" stroke-width=\"1.5\" transform=\"rotate(90, 8, 8)\" y2=\"8\" x2=\"13\" y1=\"8\" x1=\"3\" stroke=\"#000000\" fill=\"none\"></line></g></svg>\r\n                </button>\r\n              </div>\r\n              <div class=\"product-price\">\r\n                <div class=\"product-new-price\">${convertVND(x.price)}</div>\r\n              </div>\r\n            </div>\r\n            <div class=\"list-product__close\" onclick=\"Xoa('${x.id}','${x.size}','${x.color}')\">\r\n              <i class=\"fa-solid fa-xmark\"></i>\r\n            </div>\r\n          </div>\r\n        </div>`;\r\n      }\r\n      if (total < 200) {\r\n        total += 25000;\r\n        $(\".delever-cost\").text('25.000đ');\r\n      } else {\r\n        $(\".delever-cost\").text('Miễn phí');\r\n      }\r\n      $('.list-product__inner').html(str);\r\n      $(\".total__price\").text(convertVND(total));\r\n      $(\".tamTinh\").text(convertVND(tamtinh));\r\n      $(\".btn-pay--price\").text(convertVND(total));\r\n      if (list.length === 0) {\r\n        $(\".btn-pay\").css({ \"opacity\": \"0.5\", \"pointer-events\": \"none\" });\r\n      }\r\n    }\r\n    LoadData();\r\n\r\n    /*đưa vào một số và trả ra định dạng tiền*/\r\n    function convertVND(number) {\r\n      if (number === 0) { return '0đ'; }\r\n      // Chuyển dạng số thành chuỗi\r\n      var str = JSON.stringify(number);\r\n      var result = \"\";\r\n      var length = str.length;\r\n      var count = 0;\r\n      for (var i = length - 1; i >= 0; --i) {\r\n        if (count % 3 === 0 && count !== 0) {\r\n          result = str[i] + '.' + result;\r\n        } else {\r\n          result = str[i] + result;\r\n        }\r\n        count++;\r\n      }\r\n      return result + 'đ';\r\n    }\r\n\r\n\r\n    \r\n    /*Thanh toán*/\r\n    $(\".btn-pay\").click(function(){\r\n        list=[];\r\n        updateCart();\r\n        LoadData();\r\n        loadMiniCart();\r\n        alert(\"Bạn đã đặt hàng thành công\");\r\n        \r\n    })\r\n\r\n            /**Hàm load thông tin từ local storage lên mini cart*/\r\n            function loadMiniCart() {\r\n                // lấy dữ liệu trên lc trả thành mảng nếu có \r\n                let list= JSON.parse(localStorage.getItem('cart')) || []\r\n                var str=\"\"\r\n                var length=list.length\r\n                // kiểm tra slg\r\n                if(length>0) {\r\n                    // for ra thành các list\r\n                    for(let x of list) {\r\n                        str+=`<li class=\"mini-cart__item\">\r\n                        <a class=\"mini-cart__link\">\r\n                        <div class=\"mini-cart__link-img\">\r\n                            <img src=\"${x.img}\" alt=\"\">\r\n                        </div>\r\n                        <div class=\"mini-cart__link-content\">\r\n                            <p class=\"mini-cart__link-content-name\">${x.name}</p>\r\n                            <p class=\"mini-cart__link-content-describe\">màu ${x.color} ${x.size}</p>\r\n                            <p class=\"mini-cart__link-content-price\">${convertVND(x.price)}</p>\r\n                            <p class=\"mini-cart__link-content-quantity\">x${x.quantity}</p>\r\n                            <span class=\"mini-cart__item-cancel\" onclick=\"Xoa('${x.id}','${x.size}','${x.color}')\">✕</span>\r\n            \r\n                        </div>\r\n                        </a>\r\n                    </li>`\r\n                    }\r\n                    // load nội dung lên mini card\r\n                    $(\".mini-cart__list\").html(str)\r\n                    $(\".header__actions-cart-notify\").text(`${length}`)\r\n                    $(\".added-product\").text(`${length}`)\r\n                }\r\n                else {\r\n                    $(\".mini-cart__list\").html('<p class=\"cart-empty\">Không có sản phẩm</p>')\r\n                    $(\".header__actions-cart-notify\").text(\"0\")\r\n                    $(\".added-product\").text(\"0\")\r\n                }                        \r\n            }\r\n            loadMiniCart();\r\n\r\n\r\n    // Cập nhật giỏ hàng\r\n    function updateCart() {\r\n        localStorage.setItem('cart', JSON.stringify(list));\r\n    }\r\n\r\n  }, []);\r\n\r\n}\r\n\r\nexport default ActiveCart;\r\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AAExC,SAASC,UAAUA,CAAA,EAAG;EAAAC,EAAA;EAEpBF,SAAS,CAAC,MAAM;IACd,MAAMG,CAAC,GAAGC,MAAM,CAACD,CAAC;IAElB,IAAIE,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC,IAAI,EAAE;IAEzD,SAASC,QAAQA,CAAA,EAAG;MAClB,IAAIC,GAAG,GAAG,EAAE;MACZ,IAAIC,KAAK,GAAG,CAAC;MACb,IAAIC,OAAO,GAAG,CAAC;MACf,KAAK,IAAIC,CAAC,IAAIT,IAAI,EAAE;QAAG;QACrBO,KAAK,IAAKE,CAAC,CAACC,KAAK,GAAGD,CAAC,CAACE,QAAQ,GAAIF,CAAC,CAACG,QAAQ;QAC5CJ,OAAO,IAAKC,CAAC,CAACC,KAAK,GAAGD,CAAC,CAACE,QAAS;QACjCL,GAAG,IAAK;AAChB;AACA,wBAAwBG,CAAC,CAACI,GAAI;AAC9B;AACA;AACA,mDAAmDJ,CAAC,CAACK,IAAK;AAC1D,mDAAmDL,CAAC,CAACM,KAAM,IAAGN,CAAC,CAACO,IAAK;AACrE;AACA;AACA;AACA;AACA,yCAAyCP,CAAC,CAACQ,EAAG;AAC9C;AACA;AACA,wBAAwBR,CAAC,CAACE,QAAS;AACnC,yCAAyCF,CAAC,CAACQ,EAAG;AAC9C;AACA;AACA;AACA;AACA,iDAAiDC,UAAU,CAACT,CAAC,CAACC,KAAK,CAAE;AACrE;AACA;AACA,6DAA6DD,CAAC,CAACQ,EAAG,MAAKR,CAAC,CAACO,IAAK,MAAKP,CAAC,CAACM,KAAM;AAC3F;AACA;AACA;AACA,eAAe;MACT;MACA,IAAIR,KAAK,GAAG,GAAG,EAAE;QACfA,KAAK,IAAI,KAAK;QACdT,CAAC,CAAC,eAAe,CAAC,CAACqB,IAAI,CAAC,SAAS,CAAC;MACpC,CAAC,MAAM;QACLrB,CAAC,CAAC,eAAe,CAAC,CAACqB,IAAI,CAAC,UAAU,CAAC;MACrC;MACArB,CAAC,CAAC,sBAAsB,CAAC,CAACsB,IAAI,CAACd,GAAG,CAAC;MACnCR,CAAC,CAAC,eAAe,CAAC,CAACqB,IAAI,CAACD,UAAU,CAACX,KAAK,CAAC,CAAC;MAC1CT,CAAC,CAAC,UAAU,CAAC,CAACqB,IAAI,CAACD,UAAU,CAACV,OAAO,CAAC,CAAC;MACvCV,CAAC,CAAC,iBAAiB,CAAC,CAACqB,IAAI,CAACD,UAAU,CAACX,KAAK,CAAC,CAAC;MAC5C,IAAIP,IAAI,CAACqB,MAAM,KAAK,CAAC,EAAE;QACrBvB,CAAC,CAAC,UAAU,CAAC,CAACwB,GAAG,CAAC;UAAE,SAAS,EAAE,KAAK;UAAE,gBAAgB,EAAE;QAAO,CAAC,CAAC;MACnE;IACF;IACAjB,QAAQ,CAAC,CAAC;;IAEV;IACA,SAASa,UAAUA,CAACK,MAAM,EAAE;MAC1B,IAAIA,MAAM,KAAK,CAAC,EAAE;QAAE,OAAO,IAAI;MAAE;MACjC;MACA,IAAIjB,GAAG,GAAGL,IAAI,CAACuB,SAAS,CAACD,MAAM,CAAC;MAChC,IAAIE,MAAM,GAAG,EAAE;MACf,IAAIJ,MAAM,GAAGf,GAAG,CAACe,MAAM;MACvB,IAAIK,KAAK,GAAG,CAAC;MACb,KAAK,IAAIC,CAAC,GAAGN,MAAM,GAAG,CAAC,EAAEM,CAAC,IAAI,CAAC,EAAE,EAAEA,CAAC,EAAE;QACpC,IAAID,KAAK,GAAG,CAAC,KAAK,CAAC,IAAIA,KAAK,KAAK,CAAC,EAAE;UAClCD,MAAM,GAAGnB,GAAG,CAACqB,CAAC,CAAC,GAAG,GAAG,GAAGF,MAAM;QAChC,CAAC,MAAM;UACLA,MAAM,GAAGnB,GAAG,CAACqB,CAAC,CAAC,GAAGF,MAAM;QAC1B;QACAC,KAAK,EAAE;MACT;MACA,OAAOD,MAAM,GAAG,GAAG;IACrB;;IAIA;IACA3B,CAAC,CAAC,UAAU,CAAC,CAAC8B,KAAK,CAAC,YAAU;MAC1B5B,IAAI,GAAC,EAAE;MACP6B,UAAU,CAAC,CAAC;MACZxB,QAAQ,CAAC,CAAC;MACVyB,YAAY,CAAC,CAAC;MACdC,KAAK,CAAC,4BAA4B,CAAC;IAEvC,CAAC,CAAC;;IAEM;IACA,SAASD,YAAYA,CAAA,EAAG;MACpB;MACA,IAAI9B,IAAI,GAAEC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC,IAAI,EAAE;MACxD,IAAIE,GAAG,GAAC,EAAE;MACV,IAAIe,MAAM,GAACrB,IAAI,CAACqB,MAAM;MACtB;MACA,IAAGA,MAAM,GAAC,CAAC,EAAE;QACT;QACA,KAAI,IAAIZ,CAAC,IAAIT,IAAI,EAAE;UACfM,GAAG,IAAG;AAC9B;AACA;AACA,wCAAwCG,CAAC,CAACI,GAAI;AAC9C;AACA;AACA,sEAAsEJ,CAAC,CAACK,IAAK;AAC7E,8EAA8EL,CAAC,CAACM,KAAM,IAAGN,CAAC,CAACO,IAAK;AAChG,uEAAuEE,UAAU,CAACT,CAAC,CAACC,KAAK,CAAE;AAC3F,2EAA2ED,CAAC,CAACE,QAAS;AACtF,iFAAiFF,CAAC,CAACQ,EAAG,MAAKR,CAAC,CAACO,IAAK,MAAKP,CAAC,CAACM,KAAM;AAC/G;AACA;AACA;AACA,0BAA0B;QACN;QACA;QACAjB,CAAC,CAAC,kBAAkB,CAAC,CAACsB,IAAI,CAACd,GAAG,CAAC;QAC/BR,CAAC,CAAC,8BAA8B,CAAC,CAACqB,IAAI,CAAE,GAAEE,MAAO,EAAC,CAAC;QACnDvB,CAAC,CAAC,gBAAgB,CAAC,CAACqB,IAAI,CAAE,GAAEE,MAAO,EAAC,CAAC;MACzC,CAAC,MACI;QACDvB,CAAC,CAAC,kBAAkB,CAAC,CAACsB,IAAI,CAAC,6CAA6C,CAAC;QACzEtB,CAAC,CAAC,8BAA8B,CAAC,CAACqB,IAAI,CAAC,GAAG,CAAC;QAC3CrB,CAAC,CAAC,gBAAgB,CAAC,CAACqB,IAAI,CAAC,GAAG,CAAC;MACjC;IACJ;IACAW,YAAY,CAAC,CAAC;;IAGtB;IACA,SAASD,UAAUA,CAAA,EAAG;MAClB1B,YAAY,CAAC6B,OAAO,CAAC,MAAM,EAAE/B,IAAI,CAACuB,SAAS,CAACxB,IAAI,CAAC,CAAC;IACtD;EAEF,CAAC,EAAE,EAAE,CAAC;AAER;AAACH,EAAA,CAzIQD,UAAU;AAAAqC,EAAA,GAAVrC,UAAU;AA2InB,eAAeA,UAAU;AAAC,IAAAqC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}