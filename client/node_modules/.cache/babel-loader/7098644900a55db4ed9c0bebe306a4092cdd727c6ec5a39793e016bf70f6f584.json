{"ast":null,"code":"var _s = $RefreshSig$();\nimport React, { useEffect } from \"react\";\nfunction AddProduct() {\n  _s();\n  useEffect(() => {\n    const $ = window.$;\n    function addToCart(item) {\n      var list;\n      if (localStorage.getItem(\"cart\") == null) {\n        list = [item];\n      } else {\n        list = JSON.parse(localStorage.getItem(\"cart\")) || [];\n        let check = true;\n        for (let x of list) {\n          if (x.id === item.id && x.color === item.color && x.size === item.size) {\n            x.quantity += 1;\n            check = false;\n            break;\n          }\n        }\n        if (check) {\n          list.push(item);\n        }\n      }\n      localStorage.setItem(\"cart\", JSON.stringify(list));\n    }\n    $(\".btn--size\").each(function (indexBtn, valueBtn) {\n      $(valueBtn).one(\"click\", function () {\n        var id = $(valueBtn).closest(\".product\").attr(\"id\");\n        var name = $(`#${id} .product-name`).text();\n        var img = $(`#${id} .product-img-1`).attr(\"src\");\n        var color = $(`#${id} .product-content__option-item-wrap.active span`).attr(\"data\");\n        var size = $(valueBtn).text();\n        var price = convertToNumber($(`#${id} .product-price`).text());\n        var item = {\n          id: id,\n          name: name,\n          img: img,\n          color: color,\n          size: size,\n          price: price,\n          quantity: 1,\n          discount: 0\n        };\n        console.log(item);\n        addToCart(i);\n      });\n    });\n    function convertToNumber(price) {\n      let result = \"\";\n      for (let i = 0; i < price.length; i++) {\n        if (price[i] !== \".\" && price[i] !== \"đ\") {\n          result += price[i];\n        }\n      }\n      return parseInt(result, 10);\n    }\n  }, []);\n}\n_s(AddProduct, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n_c = AddProduct;\nexport default AddProduct;\nvar _c;\n$RefreshReg$(_c, \"AddProduct\");","map":{"version":3,"names":["React","useEffect","AddProduct","_s","$","window","addToCart","item","list","localStorage","getItem","JSON","parse","check","x","id","color","size","quantity","push","setItem","stringify","each","indexBtn","valueBtn","one","closest","attr","name","text","img","price","convertToNumber","discount","console","log","i","result","length","parseInt","_c","$RefreshReg$"],"sources":["D:/Đồ Án 3/WebBanQuanAo/webquanao/src/until/cart.jsx"],"sourcesContent":["import React, { useEffect } from \"react\";\r\n\r\nfunction AddProduct() {\r\n  useEffect(() => {\r\n\r\n    const $ = window.$;\r\n\r\n    function addToCart(item) {\r\n      var list;\r\n      if (localStorage.getItem(\"cart\") == null) {\r\n          list = [item];\r\n      } else {\r\n          list = JSON.parse(localStorage.getItem(\"cart\")) || [];\r\n          let check = true;\r\n          for (let x of list) {\r\n              if (x.id === item.id && x.color === item.color && x.size === item.size) {\r\n                  x.quantity += 1;\r\n                  check = false;\r\n                  break;\r\n              }\r\n          }\r\n          if (check) {\r\n              list.push(item);\r\n          }\r\n      }\r\n      localStorage.setItem(\"cart\", JSON.stringify(list));\r\n  }\r\n  \r\n\r\n  $(\".btn--size\").each(function(indexBtn, valueBtn) {\r\n    $(valueBtn).one(\"click\", function() {\r\n      var id = $(valueBtn).closest(\".product\").attr(\"id\");\r\n      var name = $(`#${id} .product-name`).text();\r\n      var img = $(`#${id} .product-img-1`).attr(\"src\");\r\n      var color = $(`#${id} .product-content__option-item-wrap.active span`).attr(\"data\");\r\n      var size = $(valueBtn).text();\r\n      var price = convertToNumber($(`#${id} .product-price`).text());\r\n      var item = {\r\n        id: id,\r\n        name: name,\r\n        img: img,\r\n        color: color,\r\n        size: size,\r\n        price: price,\r\n        quantity: 1,\r\n        discount: 0,\r\n      };\r\n      console.log(item);\r\n      addToCart(i)\r\n    });\r\n  });\r\n\r\n\r\n    function convertToNumber(price) {\r\n      let result = \"\";\r\n      for (let i = 0; i < price.length; i++) {\r\n        if (price[i] !== \".\" && price[i] !== \"đ\") {\r\n          result += price[i];\r\n        }\r\n      }\r\n      return parseInt(result, 10);\r\n    }\r\n\r\n  }, []);\r\n}\r\n\r\nexport default AddProduct;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}