{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect } from \"react\";\nexport function updateCart(list) {\n  localStorage.setItem(\"cart\", JSON.stringify(list));\n}\nfunction ActiveCart() {\n  _s();\n  useEffect(() => {\n    const $ = window.$;\n    var payments = document.querySelectorAll('.payments-item');\n    var paymentsInput = document.querySelector('.payments-item input');\n    document.querySelector('.payments-item.active .check').checked = true;\n    payments.forEach((payment, index) => {\n      payment.onclick = () => {\n        document.querySelector('.payments-item.active').classList.remove('active');\n        payment.classList.add('active');\n        document.querySelector('.payments-item.active .check').checked = true; //khi check vào item thì sẽ check vào input\n      };\n    });\n    $(\".payments-item\").each(function (index, value) {\n      $(value).click(function () {\n        // Duyệt qua nếu check đk chọn thì gán value\n        $(\".check\").each(function () {\n          if (this.checked) {\n            $(\".type-payment\").text(this.value);\n          }\n        });\n      });\n    });\n    var list = JSON.parse(localStorage.getItem(\"cart\")) || [];\n    function LoadData() {\n      var str = \"\";\n      var total = 0;\n      var tamtinh = 0;\n      for (let x of list) {\n        // Sửa 'x of list' thành 'let x of list'\n        total += x.price * x.quantity - x.discount;\n        tamtinh += x.price * x.quantity;\n        str += `<div class=\"list-product__item\">\n          <div class=\"list-product__item-img\">\n            <img src=\"${x.img}\" alt=\"\">\n          </div>\n          <div class=\"list-product__item-content\">\n            <div class=\"list-product__item-name\">${x.name}</div>\n            <div class=\"list-product__item-type\">${x.color}/${x.size}</div>\n            <div style=\"display:flex;justify-content: flex-start; margin: 28px 0 6px;\" class=\"\">                         \n            </div>\n            <div style=\"display:flex;justify-content: space-between;align-items: center;\">  \n              <div class=\"quantity-product\">\n                <button onclick=\"Giam('${x.id}')\">\n                  <svg data-v-0d8807a2=\"\" width=\"16\" height=\"16\" xmlns=\"http://www.w3.org/2000/svg\"><g data-v-0d8807a2=\"\"><line data-v-0d8807a2=\"\" stroke-width=\"1.5\" id=\"svg_6\" y2=\"8\" x2=\"10\" y1=\"8\" x1=\"5\" stroke=\"#000000\" fill=\"none\"></line></g></svg>\n                </button>\n                <span>${x.quantity}</span>\n                <button onclick=\"Tang('${x.id}')\">\n                  <svg data-v-0d8807a2=\"\" width=\"16\" height=\"16\" xmlns=\"http://www.w3.org/2000/svg\"><g data-v-0d8807a2=\"\"><line data-v-0d8807a2=\"\" stroke-width=\"1.5\" y2=\"8\" x2=\"12.9695\" y1=\"8\" x1=\"3.0305\" stroke=\"#000000\" fill=\"none\"></line> <line data-v-0d8807a2=\"\" stroke-width=\"1.5\" transform=\"rotate(90, 8, 8)\" y2=\"8\" x2=\"13\" y1=\"8\" x1=\"3\" stroke=\"#000000\" fill=\"none\"></line></g></svg>\n                </button>\n              </div>\n              <div class=\"product-price\">\n                <div class=\"product-new-price\">${convertVND(x.price)}</div>\n              </div>\n            </div>\n            <div class=\"list-product__close\" onclick=\"Xoa('${x.id}','${x.size}','${x.color}')\">\n              <i class=\"fa-solid fa-xmark\"></i>\n            </div>\n          </div>\n        </div>`;\n      }\n      if (total < 200) {\n        total += 25000;\n        $(\".delever-cost\").text(\"25.000đ\");\n      } else {\n        $(\".delever-cost\").text(\"Miễn phí\");\n      }\n      $(\".list-product__inner\").html(str);\n      $(\".total__price\").text(convertVND(total));\n      $(\".tamTinh\").text(convertVND(tamtinh));\n      $(\".btn-pay--price\").text(convertVND(total));\n      if (list.length === 0) {\n        $(\".btn-pay\").css({\n          opacity: \"0.5\",\n          \"pointer-events\": \"none\"\n        });\n      }\n    }\n    LoadData();\n    function convertVND(number) {\n      if (number === 0) {\n        return \"0đ\";\n      }\n      // Chuyển dạng số thành chuỗi\n      var str = JSON.stringify(number);\n      var result = \"\";\n      var length = str.length;\n      var count = 0;\n      for (var i = length - 1; i >= 0; --i) {\n        if (count % 3 === 0 && count !== 0) {\n          result = str[i] + \".\" + result;\n        } else {\n          result = str[i] + result;\n        }\n        count++;\n      }\n      return result + \"đ\";\n    }\n    function Xoa(id, size, color) {\n      var index = list.findIndex(x => x.id === id && x.size === size && x.color === color);\n      if (index >= 0) {\n        // Nếu sp tồn tại thì xóa\n        list.splice(index, 1);\n      }\n      updateCart();\n      loadMiniCart();\n      LoadData();\n    }\n    function Tang(id) {\n      var index = list.findIndex(x => x.id === id);\n      if (index >= 0) {\n        list[index].quantity += 1;\n      }\n      updateCart();\n      LoadData();\n      loadMiniCart();\n    }\n    function Giam(id) {\n      var index = list.findIndex(x => x.id === id);\n      if (index >= 0 && list[index].quantity > 1) {\n        list[index].quantity -= 1;\n      }\n      updateCart();\n      LoadData();\n      loadMiniCart();\n    }\n    window.Xoa = Xoa;\n    window.Tang = Tang;\n    window.Giam = Giam;\n  }, []);\n}\n_s(ActiveCart, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n_c = ActiveCart;\nexport default ActiveCart;\nvar _c;\n$RefreshReg$(_c, \"ActiveCart\");","map":{"version":3,"names":["useEffect","updateCart","list","localStorage","setItem","JSON","stringify","ActiveCart","_s","$","window","payments","document","querySelectorAll","paymentsInput","querySelector","checked","forEach","payment","index","onclick","classList","remove","add","each","value","click","text","parse","getItem","LoadData","str","total","tamtinh","x","price","quantity","discount","img","name","color","size","id","convertVND","html","length","css","opacity","number","result","count","i","Xoa","findIndex","splice","loadMiniCart","Tang","Giam","_c","$RefreshReg$"],"sources":["D:/Đồ Án 3/WebBanQuanAo/webquanao/src/until/cartactive.jsx"],"sourcesContent":["import  { useEffect } from \"react\";\r\n\r\nexport function updateCart(list) {\r\n  localStorage.setItem(\"cart\", JSON.stringify(list));\r\n}\r\n\r\n\r\n\r\nfunction ActiveCart() {\r\n  useEffect(() => {\r\n    const $ = window.$;\r\n\r\n    var payments = document.querySelectorAll('.payments-item')\r\n    var paymentsInput = document.querySelector('.payments-item input')\r\n    document.querySelector('.payments-item.active .check').checked = true; \r\n\r\n    payments.forEach((payment, index) => {\r\n        payment.onclick = () => {\r\n            document.querySelector('.payments-item.active').classList.remove('active');\r\n            payment.classList.add('active');\r\n            document.querySelector('.payments-item.active .check').checked = true;//khi check vào item thì sẽ check vào input\r\n        }\r\n    })\r\n\r\n    $(\".payments-item\").each(function(index,value) {\r\n        $(value).click(function(){\r\n            // Duyệt qua nếu check đk chọn thì gán value\r\n            $(\".check\").each(function(){\r\n                if(this.checked){\r\n                    $(\".type-payment\").text(this.value)\r\n                }\r\n            })\r\n        })\r\n    })\r\n\r\n    var list = JSON.parse(localStorage.getItem(\"cart\")) || [];\r\n\r\n    function LoadData() {\r\n      var str = \"\";\r\n      var total = 0;\r\n      var tamtinh = 0;\r\n      for (let x of list) {\r\n        // Sửa 'x of list' thành 'let x of list'\r\n        total += x.price * x.quantity - x.discount;\r\n        tamtinh += x.price * x.quantity;\r\n        str += `<div class=\"list-product__item\">\r\n          <div class=\"list-product__item-img\">\r\n            <img src=\"${x.img}\" alt=\"\">\r\n          </div>\r\n          <div class=\"list-product__item-content\">\r\n            <div class=\"list-product__item-name\">${x.name}</div>\r\n            <div class=\"list-product__item-type\">${x.color}/${x.size}</div>\r\n            <div style=\"display:flex;justify-content: flex-start; margin: 28px 0 6px;\" class=\"\">                         \r\n            </div>\r\n            <div style=\"display:flex;justify-content: space-between;align-items: center;\">  \r\n              <div class=\"quantity-product\">\r\n                <button onclick=\"Giam('${x.id}')\">\r\n                  <svg data-v-0d8807a2=\"\" width=\"16\" height=\"16\" xmlns=\"http://www.w3.org/2000/svg\"><g data-v-0d8807a2=\"\"><line data-v-0d8807a2=\"\" stroke-width=\"1.5\" id=\"svg_6\" y2=\"8\" x2=\"10\" y1=\"8\" x1=\"5\" stroke=\"#000000\" fill=\"none\"></line></g></svg>\r\n                </button>\r\n                <span>${x.quantity}</span>\r\n                <button onclick=\"Tang('${x.id}')\">\r\n                  <svg data-v-0d8807a2=\"\" width=\"16\" height=\"16\" xmlns=\"http://www.w3.org/2000/svg\"><g data-v-0d8807a2=\"\"><line data-v-0d8807a2=\"\" stroke-width=\"1.5\" y2=\"8\" x2=\"12.9695\" y1=\"8\" x1=\"3.0305\" stroke=\"#000000\" fill=\"none\"></line> <line data-v-0d8807a2=\"\" stroke-width=\"1.5\" transform=\"rotate(90, 8, 8)\" y2=\"8\" x2=\"13\" y1=\"8\" x1=\"3\" stroke=\"#000000\" fill=\"none\"></line></g></svg>\r\n                </button>\r\n              </div>\r\n              <div class=\"product-price\">\r\n                <div class=\"product-new-price\">${convertVND(x.price)}</div>\r\n              </div>\r\n            </div>\r\n            <div class=\"list-product__close\" onclick=\"Xoa('${x.id}','${\r\n          x.size\r\n        }','${x.color}')\">\r\n              <i class=\"fa-solid fa-xmark\"></i>\r\n            </div>\r\n          </div>\r\n        </div>`;\r\n      }\r\n      if (total < 200) {\r\n        total += 25000;\r\n        $(\".delever-cost\").text(\"25.000đ\");\r\n      } else {\r\n        $(\".delever-cost\").text(\"Miễn phí\");\r\n      }\r\n      $(\".list-product__inner\").html(str);\r\n      $(\".total__price\").text(convertVND(total));\r\n      $(\".tamTinh\").text(convertVND(tamtinh));\r\n      $(\".btn-pay--price\").text(convertVND(total));\r\n      if (list.length === 0) {\r\n        $(\".btn-pay\").css({ opacity: \"0.5\", \"pointer-events\": \"none\" });\r\n      }\r\n    }\r\n    LoadData();\r\n\r\n    function convertVND(number) {\r\n      if (number === 0) {\r\n        return \"0đ\";\r\n      }\r\n      // Chuyển dạng số thành chuỗi\r\n      var str = JSON.stringify(number);\r\n      var result = \"\";\r\n      var length = str.length;\r\n      var count = 0;\r\n      for (var i = length - 1; i >= 0; --i) {\r\n        if (count % 3 === 0 && count !== 0) {\r\n          result = str[i] + \".\" + result;\r\n        } else {\r\n          result = str[i] + result;\r\n        }\r\n        count++;\r\n      }\r\n      return result + \"đ\";\r\n    }\r\n\r\n    \r\n    function Xoa(id, size, color) {\r\n      var index = list.findIndex(\r\n        (x) => x.id === id && x.size === size && x.color === color\r\n      );\r\n      if (index >= 0) {\r\n        // Nếu sp tồn tại thì xóa\r\n        list.splice(index, 1);\r\n      }\r\n      updateCart();\r\n      loadMiniCart();\r\n      LoadData();\r\n    }\r\n\r\n    function Tang(id) {\r\n      var index = list.findIndex((x) => x.id === id);\r\n      if (index >= 0) {\r\n        list[index].quantity += 1;\r\n      }\r\n      updateCart();\r\n      LoadData();\r\n      loadMiniCart();\r\n    }\r\n\r\n    function Giam(id) {\r\n      var index = list.findIndex((x) => x.id === id);\r\n      if (index >= 0 && list[index].quantity > 1) {\r\n        list[index].quantity -= 1;\r\n      }\r\n      updateCart();\r\n      LoadData();\r\n      loadMiniCart();\r\n    }\r\n\r\n    window.Xoa = Xoa;\r\n    window.Tang = Tang;\r\n    window.Giam = Giam;\r\n  }, []);\r\n}\r\n\r\nexport default ActiveCart;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}