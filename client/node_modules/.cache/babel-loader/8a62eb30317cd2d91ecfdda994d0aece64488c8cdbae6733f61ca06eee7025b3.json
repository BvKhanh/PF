{"ast":null,"code":"var _s = $RefreshSig$();\nimport React, { useEffect } from \"react\";\nfunction AddProduct() {\n  _s();\n  useEffect(() => {\n    const $ = window.$;\n    function addToCart(item) {\n      var list;\n      if (localStorage.getItem(\"cart\") == null) {\n        list = [item];\n      } else {\n        list = JSON.parse(localStorage.getItem(\"cart\")) || [];\n        let check = true;\n        for (let x of list) {\n          if (x.id === item.id && x.color === item.color && x.size === item.size) {\n            x.quantity += 1;\n            check = false;\n            break;\n          }\n        }\n        if (check) {\n          list.push(item);\n        }\n      }\n      localStorage.setItem(\"cart\", JSON.stringify(list));\n    }\n    $(\".btn--size\").one(\"click\", function () {\n      var id = $(this).closest(\".product\").attr(\"id\");\n      var name = $(`#${id} .product-name`).text();\n      var img = $(`#${id} .product-img-1`).attr(\"src\");\n      var color = $(`#${id} .product-content__option-item-wrap.active span`).attr(\"data\");\n      var size = $(this).text();\n      var price = convertToNumber($(`#${id} .product-price`).text());\n      var item = {\n        id: id,\n        name: name,\n        img: img,\n        color: color,\n        size: size,\n        price: price,\n        quantity: 1,\n        discount: 0\n      };\n      console.log(item);\n      addToCart(item);\n    });\n    function convertToNumber(price) {\n      let result = \"\";\n      for (let i = 0; i < price.length; i++) {\n        if (price[i] !== \".\" && price[i] !== \"đ\") {\n          result += price[i];\n        }\n      }\n      return parseInt(result, 10);\n    }\n  }, []);\n}\n_s(AddProduct, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n_c = AddProduct;\nexport default AddProduct;\nvar _c;\n$RefreshReg$(_c, \"AddProduct\");","map":{"version":3,"names":["React","useEffect","AddProduct","_s","$","window","addToCart","item","list","localStorage","getItem","JSON","parse","check","x","id","color","size","quantity","push","setItem","stringify","one","closest","attr","name","text","img","price","convertToNumber","discount","console","log","result","i","length","parseInt","_c","$RefreshReg$"],"sources":["D:/Đồ Án 3/WebBanQuanAo/webquanao/src/until/cart.jsx"],"sourcesContent":["import React, { useEffect } from \"react\";\r\n\r\nfunction AddProduct() {\r\n  useEffect(() => {\r\n    const $ = window.$;\r\n\r\n    function addToCart(item) {\r\n      var list;\r\n      if (localStorage.getItem(\"cart\") == null) {\r\n        list = [item];\r\n      } else {\r\n        list = JSON.parse(localStorage.getItem(\"cart\")) || [];\r\n        let check = true;\r\n        for (let x of list) {\r\n          if (x.id === item.id && x.color === item.color && x.size === item.size) {\r\n            x.quantity += 1;\r\n            check = false;\r\n            break;\r\n          }\r\n        }\r\n        if (check) {\r\n          list.push(item);\r\n        }\r\n      }\r\n      localStorage.setItem(\"cart\", JSON.stringify(list));\r\n    }\r\n\r\n    $(\".btn--size\").one(\"click\", function() {\r\n      var id = $(this).closest(\".product\").attr(\"id\");\r\n      var name = $(`#${id} .product-name`).text();\r\n      var img = $(`#${id} .product-img-1`).attr(\"src\");\r\n      var color = $(`#${id} .product-content__option-item-wrap.active span`).attr(\"data\");\r\n      var size = $(this).text();\r\n      var price = convertToNumber($(`#${id} .product-price`).text());\r\n      var item = {\r\n        id: id,\r\n        name: name,\r\n        img: img,\r\n        color: color,\r\n        size: size,\r\n        price: price,\r\n        quantity: 1,\r\n        discount: 0,\r\n      };\r\n      console.log(item);\r\n      addToCart(item);\r\n    });\r\n\r\n    function convertToNumber(price) {\r\n      let result = \"\";\r\n      for (let i = 0; i < price.length; i++) {\r\n        if (price[i] !== \".\" && price[i] !== \"đ\") {\r\n          result += price[i];\r\n        }\r\n      }\r\n      return parseInt(result, 10);\r\n    }\r\n\r\n  }, []);\r\n}\r\n\r\nexport default AddProduct;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}